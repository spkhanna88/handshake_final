{"ast":null,"code":"var _jsxFileName = \"/Users/surbhi/Documents/STUDY/CMPE273/lab1-Handshake_portal-work6/frontend/src/StudentDashboard/StudentProfiles/Components/Edit/EditImage.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { Redirect } from \"react-router\";\n\nclass EditImage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: \"\",\n      filelocation: \"\"\n    };\n    this.onFileChangeHandler = this.onFileChangeHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.saveImageHandler = this.saveImageHandler.bind(this);\n  }\n\n  startfunc() {\n    //event.preventDefault();\n    let email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/getStudentBasicDetail\", {\n      email: email\n    }).then(data => {\n      console.log(data);\n      this.setState({\n        filelocation: data.data.filelocation\n      });\n    }).catch(err => {\n      console.log(\"error\");\n    });\n  }\n\n  async uploadHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    const data = new FormData();\n    console.log(this.state.file);\n    data.append(\"file\", this.state.file);\n    data.append(email, {\n      email: email\n    });\n    console.log(data);\n    await Axios.post(\"http://127.0.0.1:4001/uploadstudentpicture\", data).then(data => {\n      console.log(data.data);\n      this.setState({\n        filelocation: data.data\n      });\n    });\n  }\n\n  onFileChangeHandler(event) {\n    this.setState({\n      file: event.target.files[0]\n    });\n  }\n\n  componentWillMount() {\n    this.startfunc();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/students/profilepicicon.png\",\n      alt: \"Profile Pic Not available\",\n      width: \"150\",\n      height: \"150\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\" //value={this.state.file || \"\"}\n      ,\n      onChange: this.onFileChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.uploadHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.saveImageHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Save Image\"));\n  }\n\n}\n\nexport default EditImage;","map":{"version":3,"sources":["/Users/surbhi/Documents/STUDY/CMPE273/lab1-Handshake_portal-work6/frontend/src/StudentDashboard/StudentProfiles/Components/Edit/EditImage.js"],"names":["React","Axios","Redirect","EditImage","Component","constructor","props","state","file","filelocation","onFileChangeHandler","bind","uploadHandler","saveImageHandler","startfunc","email","localStorage","getItem","post","then","data","console","log","setState","catch","err","event","preventDefault","FormData","append","target","files","componentWillMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\n\nimport { Redirect } from \"react-router\";\n\nclass EditImage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: \"\",\n      filelocation: \"\"\n    };\n    this.onFileChangeHandler = this.onFileChangeHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.saveImageHandler = this.saveImageHandler.bind(this);\n  }\n\n  startfunc() {\n    //event.preventDefault();\n    let email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/getStudentBasicDetail\", { email: email })\n      .then(data => {\n        console.log(data);\n        this.setState({\n          filelocation: data.data.filelocation\n        });\n      })\n      .catch(err => {\n        console.log(\"error\");\n      });\n  }\n\n  async uploadHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    const data = new FormData();\n    console.log(this.state.file);\n    data.append(\"file\", this.state.file);\n    data.append(email, { email: email });\n    console.log(data);\n    await Axios.post(\"http://127.0.0.1:4001/uploadstudentpicture\", data).then(\n      data => {\n        console.log(data.data);\n        this.setState({ filelocation: data.data });\n      }\n    );\n  }\n\n  onFileChangeHandler(event) {\n    this.setState({ file: event.target.files[0] });\n  }\n\n  componentWillMount() {\n    this.startfunc();\n  }\n\n  render() {\n    return (\n      <div>\n        <img\n          src=\"/images/students/profilepicicon.png\"\n          alt=\"Profile Pic Not available\"\n          width=\"150\"\n          height=\"150\"\n        />\n        <br />\n        <br />\n        <input\n          type=\"file\"\n          name=\"file\"\n          //value={this.state.file || \"\"}\n          onChange={this.onFileChangeHandler}\n        />\n        <br />\n        <button onClick={this.uploadHandler}>Upload Image</button>\n        <br />\n        <button onClick={this.saveImageHandler}>Save Image</button>\n      </div>\n    );\n  }\n}\n\nexport default EditImage;\n"]},"metadata":{},"sourceType":"module"}