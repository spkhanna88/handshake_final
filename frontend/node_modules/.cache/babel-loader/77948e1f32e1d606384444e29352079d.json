{"ast":null,"code":"var express = require(\"express\");\n\nvar app = express();\nconst router = express.Router();\n\nvar bodyParser = require(\"body-parser\");\n\nvar session = require(\"express-session\");\n\nvar cookieParser = require(\"cookie-parser\"); //var Validator = require(\"validator\");\n\n\nconst mysql = require(\"mysql\");\n\nvar isEmpty = require(\"lodash/isEmpty\");\n\nconst bcrypt = require(\"bcryptjs\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nvar db = require(\"../dbseed\"); //var checkAuth = require(\"../middleware/check-auth\");\n//router.use(checkAuth);\n\n\nrouter.post(\"/saveStudentEduDetail\", function (req, res) {\n  var sql = `UPDATE StudentData SET schoolname='${req.body.collegename}', clglocation='${req.body.location}', major='${req.body.major}', degree='${req.body.degree}', yearofpassing='${req.body.yearofpassing}', cgpa='${req.body.CGPA}' WHERE email='${req.body.email}'`;\n  console.log(sql);\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"User ID/EMAIL already exist\");\n    } else {\n      console.log(\"1 record inserted\"); //res.status(200).send({ email: req.body.email, token: token });\n\n      res.status(200).send({\n        success: true\n      });\n    }\n  });\n});\nmodule.exports = router;","map":{"version":3,"sources":["/Users/surbhi/Documents/STUDY/CMPE273/Projects/Handshake/backend/Routes/saveStudentEduDetail.js"],"names":["express","require","app","router","Router","bodyParser","session","cookieParser","mysql","isEmpty","bcrypt","jwt","db","post","req","res","sql","body","collegename","location","major","degree","yearofpassing","CGPA","email","console","log","query","err","rows","fields","status","send","success","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,GAAG,GAAGF,OAAO,EAAjB;AACA,MAAMG,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;;AACA,IAAIC,UAAU,GAAGJ,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIK,OAAO,GAAGL,OAAO,CAAC,iBAAD,CAArB;;AACA,IAAIM,YAAY,GAAGN,OAAO,CAAC,eAAD,CAA1B,C,CACA;;;AACA,MAAMO,KAAK,GAAGP,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIQ,OAAO,GAAGR,OAAO,CAAC,gBAAD,CAArB;;AACA,MAAMS,MAAM,GAAGT,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMU,GAAG,GAAGV,OAAO,CAAC,cAAD,CAAnB;;AAEA,IAAIW,EAAE,GAAGX,OAAO,CAAC,WAAD,CAAhB,C,CAEA;AAEA;;;AAEAE,MAAM,CAACU,IAAP,CAAY,uBAAZ,EAAqC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACtD,MAAIC,GAAG,GAAI,sCAAqCF,GAAG,CAACG,IAAJ,CAASC,WAAY,mBAAkBJ,GAAG,CAACG,IAAJ,CAASE,QAAS,aAAYL,GAAG,CAACG,IAAJ,CAASG,KAAM,cAAaN,GAAG,CAACG,IAAJ,CAASI,MAAO,qBAAoBP,GAAG,CAACG,IAAJ,CAASK,aAAc,YAAWR,GAAG,CAACG,IAAJ,CAASM,IAAK,kBAAiBT,GAAG,CAACG,IAAJ,CAASO,KAAM,GAArQ;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYV,GAAZ;AACAJ,EAAAA,EAAE,CAACe,KAAH,CAASX,GAAT,EAAc,CAACY,GAAD,EAAMC,IAAN,EAAYC,MAAZ,KAAuB;AACnC;AACA,QAAIF,GAAJ,EAAS;AACPb,MAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,6BAArB;AACD,KAFD,MAEO;AACLP,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADK,CAEL;;AACAX,MAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD;AACF,GATD;AAUD,CAbD;AAeAC,MAAM,CAACC,OAAP,GAAiBhC,MAAjB","sourcesContent":["var express = require(\"express\");\nvar app = express();\nconst router = express.Router();\nvar bodyParser = require(\"body-parser\");\nvar session = require(\"express-session\");\nvar cookieParser = require(\"cookie-parser\");\n//var Validator = require(\"validator\");\nconst mysql = require(\"mysql\");\nvar isEmpty = require(\"lodash/isEmpty\");\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\n\nvar db = require(\"../dbseed\");\n\n//var checkAuth = require(\"../middleware/check-auth\");\n\n//router.use(checkAuth);\n\nrouter.post(\"/saveStudentEduDetail\", function(req, res) {\n  var sql = `UPDATE StudentData SET schoolname='${req.body.collegename}', clglocation='${req.body.location}', major='${req.body.major}', degree='${req.body.degree}', yearofpassing='${req.body.yearofpassing}', cgpa='${req.body.CGPA}' WHERE email='${req.body.email}'`;\n  console.log(sql);\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"User ID/EMAIL already exist\");\n    } else {\n      console.log(\"1 record inserted\");\n      //res.status(200).send({ email: req.body.email, token: token });\n      res.status(200).send({ success: true });\n    }\n  });\n});\n\nmodule.exports = router;\n"]},"metadata":{},"sourceType":"script"}