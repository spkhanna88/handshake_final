{"ast":null,"code":"var _jsxFileName = \"/Users/surbhi/Documents/STUDY/CMPE273/lab1-Handshake_portal-work6/frontend/src/StudentDashboard/StudentProfiles/Components/Edit/EditImage.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { Redirect } from \"react-router\";\n\nclass EditImage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: \"\",\n      filelocation: \"\"\n    };\n    this.onFileChangeHandler = this.onFileChangeHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.saveImageHandler = this.saveImageHandler.bind(this);\n  }\n\n  startfunc() {\n    //event.preventDefault();\n    let email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/getStudentBasicDetail\", {\n      email: email\n    }).then(data => {\n      this.setState({\n        filelocation: \"/images/students/\" + data.data.filelocation\n      });\n    }).catch(err => {\n      console.log(\"error\");\n    });\n  }\n\n  async uploadHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    const data = new FormData();\n    data.append(\"file\", this.state.file);\n    data.append(email, {\n      email: email\n    });\n    await Axios.post(\"http://127.0.0.1:4001/uploadstudentpicture\", data).then(data => {\n      this.setState({\n        filelocation: data.data\n      });\n    });\n  }\n\n  saveImageHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/savestudentpicture\", {\n      email: email,\n      filelocation: this.state.filelocation\n    }).then(data => {\n      this.setState({\n        filelocation: data.data\n      });\n    });\n  }\n\n  onFileChangeHandler(event) {\n    this.setState({\n      file: event.target.files[0]\n    });\n  }\n\n  componentWillMount() {\n    this.startfunc();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/students/profilepicicon.png\",\n      alt: \"Profile Pic Not available\",\n      width: \"150\",\n      height: \"150\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      onChange: this.onFileChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.uploadHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Upload Image\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.saveImageHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Save Image\"));\n  }\n\n}\n\nexport default EditImage;","map":{"version":3,"sources":["/Users/surbhi/Documents/STUDY/CMPE273/lab1-Handshake_portal-work6/frontend/src/StudentDashboard/StudentProfiles/Components/Edit/EditImage.js"],"names":["React","Axios","Redirect","EditImage","Component","constructor","props","state","file","filelocation","onFileChangeHandler","bind","uploadHandler","saveImageHandler","startfunc","email","localStorage","getItem","post","then","data","setState","catch","err","console","log","event","preventDefault","FormData","append","target","files","componentWillMount","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Axios from \"axios\";\n\nimport { Redirect } from \"react-router\";\n\nclass EditImage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: \"\",\n      filelocation: \"\"\n    };\n    this.onFileChangeHandler = this.onFileChangeHandler.bind(this);\n    this.uploadHandler = this.uploadHandler.bind(this);\n    this.saveImageHandler = this.saveImageHandler.bind(this);\n  }\n\n  startfunc() {\n    //event.preventDefault();\n    let email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/getStudentBasicDetail\", { email: email })\n      .then(data => {\n        this.setState({\n          filelocation: \"/images/students/\" + data.data.filelocation\n        });\n      })\n      .catch(err => {\n        console.log(\"error\");\n      });\n  }\n\n  async uploadHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    const data = new FormData();\n    data.append(\"file\", this.state.file);\n    data.append(email, { email: email });\n    await Axios.post(\"http://127.0.0.1:4001/uploadstudentpicture\", data).then(\n      data => {\n        this.setState({ filelocation: data.data });\n      }\n    );\n  }\n\n  saveImageHandler(event) {\n    event.preventDefault();\n    const email = localStorage.getItem(\"email\");\n    Axios.post(\"http://127.0.0.1:4001/savestudentpicture\", {\n      email: email,\n      filelocation: this.state.filelocation\n    }).then(data => {\n      this.setState({ filelocation: data.data });\n    });\n  }\n\n  onFileChangeHandler(event) {\n    this.setState({ file: event.target.files[0] });\n  }\n\n  componentWillMount() {\n    this.startfunc();\n  }\n\n  render() {\n    return (\n      <div>\n        <img\n          src=\"/images/students/profilepicicon.png\"\n          alt=\"Profile Pic Not available\"\n          width=\"150\"\n          height=\"150\"\n        />\n        <br />\n        <br />\n        <input type=\"file\" name=\"file\" onChange={this.onFileChangeHandler} />\n        <br />\n        <button onClick={this.uploadHandler}>Upload Image</button>\n        <br />\n        <button onClick={this.saveImageHandler}>Save Image</button>\n      </div>\n    );\n  }\n}\n\nexport default EditImage;\n"]},"metadata":{},"sourceType":"module"}