{"ast":null,"code":"var express = require(\"express\");\n\nconst router = express.Router();\n\nvar db = require(\"../dbseed\");\n\nrouter.post(\"/saveCompProfile\", function (req, res) {\n  var sql = `UPDATE CompanyData SET location='${req.body.location}', phoneno='${req.body.phoneno}', emailcontact='${req.body.emailcontact}', fax='${req.body.fax}', website='${req.body.website}', description='${req.body.description}', companytype='${req.body.companytype}',filelocation='${req.body.filelocation},displayimage='${req.body.filelocation}' WHERE email='${req.body.authemail}'`;\n  console.log(sql);\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"Some error occured...Please try again!!!\");\n    } else {\n      console.log(\"1 record inserted\"); //res.status(200).send({ email: req.body.email, token: token });\n\n      res.status(200).send({\n        success: true\n      });\n    }\n  });\n});\nmodule.exports = router;","map":{"version":3,"sources":["/Users/surbhi/Documents/STUDY/CMPE273/Projects/Handshake/backend/Routes/saveCompProfile.js"],"names":["express","require","router","Router","db","post","req","res","sql","body","location","phoneno","emailcontact","fax","website","description","companytype","filelocation","authemail","console","log","query","err","rows","fields","status","send","success","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,MAAMC,MAAM,GAAGF,OAAO,CAACG,MAAR,EAAf;;AACA,IAAIC,EAAE,GAAGH,OAAO,CAAC,WAAD,CAAhB;;AAEAC,MAAM,CAACG,IAAP,CAAY,kBAAZ,EAAgC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjD,MAAIC,GAAG,GAAI,oCAAmCF,GAAG,CAACG,IAAJ,CAASC,QAAS,eAAcJ,GAAG,CAACG,IAAJ,CAASE,OAAQ,oBAAmBL,GAAG,CAACG,IAAJ,CAASG,YAAa,WAAUN,GAAG,CAACG,IAAJ,CAASI,GAAI,eAAcP,GAAG,CAACG,IAAJ,CAASK,OAAQ,mBAAkBR,GAAG,CAACG,IAAJ,CAASM,WAAY,mBAAkBT,GAAG,CAACG,IAAJ,CAASO,WAAY,mBAAkBV,GAAG,CAACG,IAAJ,CAASQ,YAAa,kBAAiBX,GAAG,CAACG,IAAJ,CAASQ,YAAa,kBAAiBX,GAAG,CAACG,IAAJ,CAASS,SAAU,GAA/X;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAZ;AACAJ,EAAAA,EAAE,CAACiB,KAAH,CAASb,GAAT,EAAc,CAACc,GAAD,EAAMC,IAAN,EAAYC,MAAZ,KAAuB;AACnC;AACA,QAAIF,GAAJ,EAAS;AACPf,MAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,0CAArB;AACD,KAFD,MAEO;AACLP,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADK,CAEL;;AACAb,MAAAA,GAAG,CAACkB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD;AACF,GATD;AAUD,CAbD;AAeAC,MAAM,CAACC,OAAP,GAAiB3B,MAAjB","sourcesContent":["var express = require(\"express\");\nconst router = express.Router();\nvar db = require(\"../dbseed\");\n\nrouter.post(\"/saveCompProfile\", function(req, res) {\n  var sql = `UPDATE CompanyData SET location='${req.body.location}', phoneno='${req.body.phoneno}', emailcontact='${req.body.emailcontact}', fax='${req.body.fax}', website='${req.body.website}', description='${req.body.description}', companytype='${req.body.companytype}',filelocation='${req.body.filelocation},displayimage='${req.body.filelocation}' WHERE email='${req.body.authemail}'`;\n  console.log(sql);\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"Some error occured...Please try again!!!\");\n    } else {\n      console.log(\"1 record inserted\");\n      //res.status(200).send({ email: req.body.email, token: token });\n      res.status(200).send({ success: true });\n    }\n  });\n});\n\nmodule.exports = router;\n"]},"metadata":{},"sourceType":"script"}