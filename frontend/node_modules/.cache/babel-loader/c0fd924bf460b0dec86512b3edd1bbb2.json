{"ast":null,"code":"var express = require(\"express\");\n\nvar app = express();\nconst router = express.Router();\n\nvar bodyParser = require(\"body-parser\");\n\nvar session = require(\"express-session\");\n\nvar cookieParser = require(\"cookie-parser\"); //var Validator = require(\"validator\");\n\n\nconst mysql = require(\"mysql\");\n\nvar isEmpty = require(\"lodash/isEmpty\");\n\nconst bcrypt = require(\"bcryptjs\");\n\nconst jwt = require(\"jsonwebtoken\");\n\nvar db = require(\"../dbseed\"); //var checkAuth = require(\"../middleware/check-auth\");\n//router.use(checkAuth);\n\n\nrouter.post(\"/saveStudentBasicDetail\", function (req, res) {\n  var sql = `UPDATE StudentData SET message='${req.body.message}', studentfullname='${req.body.name}', dob='${req.body.dob}', city='${req.body.city}', state='${req.body.state}', country='${req.body.country}',  phone='${req.body.phone}', skillset='${req.body.skill}' WHERE email='${req.body.emailid}'`;\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"User ID/EMAIL already exist\");\n    } else {\n      console.log(\"1 record inserted\"); //res.status(200).send({ email: req.body.email, token: token });\n\n      res.status(200).send({\n        success: true\n      });\n    }\n  });\n});\nmodule.exports = router;","map":{"version":3,"sources":["/Users/surbhi/Documents/STUDY/CMPE273/Projects/Handshake/backend/Routes/saveStudentBasicDetail.js"],"names":["express","require","app","router","Router","bodyParser","session","cookieParser","mysql","isEmpty","bcrypt","jwt","db","post","req","res","sql","body","message","name","dob","city","state","country","phone","skill","emailid","query","err","rows","fields","status","send","console","log","success","module","exports"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,GAAG,GAAGF,OAAO,EAAjB;AACA,MAAMG,MAAM,GAAGH,OAAO,CAACI,MAAR,EAAf;;AACA,IAAIC,UAAU,GAAGJ,OAAO,CAAC,aAAD,CAAxB;;AACA,IAAIK,OAAO,GAAGL,OAAO,CAAC,iBAAD,CAArB;;AACA,IAAIM,YAAY,GAAGN,OAAO,CAAC,eAAD,CAA1B,C,CACA;;;AACA,MAAMO,KAAK,GAAGP,OAAO,CAAC,OAAD,CAArB;;AACA,IAAIQ,OAAO,GAAGR,OAAO,CAAC,gBAAD,CAArB;;AACA,MAAMS,MAAM,GAAGT,OAAO,CAAC,UAAD,CAAtB;;AACA,MAAMU,GAAG,GAAGV,OAAO,CAAC,cAAD,CAAnB;;AAEA,IAAIW,EAAE,GAAGX,OAAO,CAAC,WAAD,CAAhB,C,CAEA;AAEA;;;AAEAE,MAAM,CAACU,IAAP,CAAY,yBAAZ,EAAuC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACxD,MAAIC,GAAG,GAAI,mCAAkCF,GAAG,CAACG,IAAJ,CAASC,OAAQ,uBAAsBJ,GAAG,CAACG,IAAJ,CAASE,IAAK,WAAUL,GAAG,CAACG,IAAJ,CAASG,GAAI,YAAWN,GAAG,CAACG,IAAJ,CAASI,IAAK,aAAYP,GAAG,CAACG,IAAJ,CAASK,KAAM,eAAcR,GAAG,CAACG,IAAJ,CAASM,OAAQ,cAAaT,GAAG,CAACG,IAAJ,CAASO,KAAM,gBAAeV,GAAG,CAACG,IAAJ,CAASQ,KAAM,kBAAiBX,GAAG,CAACG,IAAJ,CAASS,OAAQ,GAAxS;AACAd,EAAAA,EAAE,CAACe,KAAH,CAASX,GAAT,EAAc,CAACY,GAAD,EAAMC,IAAN,EAAYC,MAAZ,KAAuB;AACnC;AACA,QAAIF,GAAJ,EAAS;AACPb,MAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,6BAArB;AACD,KAFD,MAEO;AACLC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EADK,CAEL;;AACAnB,MAAAA,GAAG,CAACgB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,QAAAA,OAAO,EAAE;AAAX,OAArB;AACD;AACF,GATD;AAUD,CAZD;AAcAC,MAAM,CAACC,OAAP,GAAiBlC,MAAjB","sourcesContent":["var express = require(\"express\");\nvar app = express();\nconst router = express.Router();\nvar bodyParser = require(\"body-parser\");\nvar session = require(\"express-session\");\nvar cookieParser = require(\"cookie-parser\");\n//var Validator = require(\"validator\");\nconst mysql = require(\"mysql\");\nvar isEmpty = require(\"lodash/isEmpty\");\nconst bcrypt = require(\"bcryptjs\");\nconst jwt = require(\"jsonwebtoken\");\n\nvar db = require(\"../dbseed\");\n\n//var checkAuth = require(\"../middleware/check-auth\");\n\n//router.use(checkAuth);\n\nrouter.post(\"/saveStudentBasicDetail\", function(req, res) {\n  var sql = `UPDATE StudentData SET message='${req.body.message}', studentfullname='${req.body.name}', dob='${req.body.dob}', city='${req.body.city}', state='${req.body.state}', country='${req.body.country}',  phone='${req.body.phone}', skillset='${req.body.skill}' WHERE email='${req.body.emailid}'`;\n  db.query(sql, (err, rows, fields) => {\n    // if (err) throw err;\n    if (err) {\n      res.status(400).send(\"User ID/EMAIL already exist\");\n    } else {\n      console.log(\"1 record inserted\");\n      //res.status(200).send({ email: req.body.email, token: token });\n      res.status(200).send({ success: true });\n    }\n  });\n});\n\nmodule.exports = router;\n"]},"metadata":{},"sourceType":"script"}